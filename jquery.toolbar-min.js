/**
 * Toolbar.js
 *
 * @fileoverview  jQuery plugin that creates tooltip style toolbars.
 * @link          http://paulkinzett.github.com/toolbar/
 * @author        Paul Kinzett (http://kinzett.co.nz/)
 * @version       1.0.4
 * @requires      jQuery 1.7+
 *
 * @license jQuery Toolbar Plugin v1.0.4
 * http://paulkinzett.github.com/toolbar/
 * Copyright 2013 Paul Kinzett (http://kinzett.co.nz/)
 * Released under the MIT license.
 * <https://raw.github.com/paulkinzett/toolbar/master/LICENSE.txt>
 */
"function"!=typeof Object.create&&(Object.create=function(o){function t(){}return t.prototype=o,new t}),function($,o,t,e){var i={init:function(o,t){var e=this;e.elem=t,e.$elem=$(t),e.options=$.extend({},$.fn.toolbar.options,o),e.toolbar=$('<div class="tool-container gradient" />').addClass("tool-"+e.options.position).addClass("tool-rounded").append('<div class="tool-items" />').append('<div class="arrow" />').appendTo("body").css("opacity",0).hide(),e.toolbar_arrow=e.toolbar.find(".arrow"),e.initializeToolbar()},initializeToolbar:function(){var o=this;o.populateContent(),o.setTrigger(),o.toolbarWidth=o.toolbar.width()},setTrigger:function(){function t(){e.$elem.hasClass("pressed")?i=setTimeout(function(){e.hide()},150):clearTimeout(i)}var e=this;if(e.$elem.on("click",function(o){o.preventDefault(),e.$elem.hasClass("pressed")?e.hide():e.show()}),e.options.hideOnClick&&$("html").on("click.toolbar",function(o){o.target!=e.elem&&0===e.$elem.has(o.target).length&&0===e.toolbar.has(o.target).length&&e.toolbar.is(":visible")&&e.hide()}),e.options.hover){var i;e.$elem.on({mouseenter:function(o){e.$elem.hasClass("pressed")?clearTimeout(i):e.show()}}),e.$elem.parent().on({mouseleave:function(o){t()}}),$(".tool-container").on({mouseenter:function(o){clearTimeout(i)},mouseleave:function(o){t()}})}$(o).resize(function(o){o.stopPropagation(),e.toolbar.is(":visible")&&(e.toolbarCss=e.getCoordinates(e.options.position,20),e.collisionDetection(),e.toolbar.css(e.toolbarCss),e.toolbar_arrow.css(e.arrowCss))})},populateContent:function(){var o=this,t=o.toolbar.find(".tool-items"),e=$(o.options.content).clone(!0).find("a").addClass("tool-item gradient");t.html(e),t.find(".tool-item").on("click",function(t){t.preventDefault(),o.$elem.trigger("toolbarItemClick",this)})},calculatePosition:function(){var o=this;o.arrowCss={},o.toolbarCss=o.getCoordinates(o.options.position,0),o.toolbarCss.position="absolute",o.toolbarCss.zIndex=o.options.zIndex,o.collisionDetection(),o.toolbar.css(o.toolbarCss),o.toolbar_arrow.css(o.arrowCss)},getCoordinates:function(o,t){var e,i,s,n,a,r,l,c;switch(e=this,e.coordinates=e.$elem.offset(),c=e.options.position,e.options.adjustment&&e.options.adjustment[e.options.position]&&(t=e.options.adjustment[e.options.position]+t),i=e.coordinates.left,s=e.toolbar.width(),n=e.$elem.outerWidth(),a=e.coordinates.top,r=e.toolbar.height(),l=e.$elem.outerHeight(),c){case"top":case"bottom":return{top:"top"==c?a-l-t:a+l+t,left:i-s/2+n/2,right:"auto"};case"left":case"right":return{top:a-r/2+l/2,left:"left"==c?i-s-t:i+n+t,right:"auto"}}},collisionDetection:function(){var t=this,e=20;("top"==t.options.position||"bottom"==t.options.position)&&(t.arrowCss={left:"50%",right:"50%"},t.toolbarCss.left<e?(t.toolbarCss.left=e,t.arrowCss.left=t.$elem.offset().left+t.$elem.width()/2-e):$(o).width()-(t.toolbarCss.left+t.toolbarWidth)<e&&(t.toolbarCss.right=e,t.toolbarCss.left="auto",t.arrowCss.left="auto",t.arrowCss.right=$(o).width()-t.$elem.offset().left-t.$elem.width()/2-e-5))},show:function(){var o=this,t={opacity:1};switch(o.$elem.addClass("pressed"),o.calculatePosition(),o.options.position){case"top":t.top="-=20";break;case"left":t.left="-=20";break;case"right":t.left="+=20";break;case"bottom":t.top="+=20"}o.toolbar.show().animate(t,200),o.$elem.trigger("toolbarShown")},hide:function(){var o=this,t={opacity:0};switch(o.$elem.removeClass("pressed"),o.options.position){case"top":t.top="+=20";break;case"left":t.left="+=20";break;case"right":t.left="-=20";break;case"bottom":t.top="-=20"}o.toolbar.animate(t,200,function(){o.toolbar.hide()}),o.$elem.trigger("toolbarHidden")},getToolbarElement:function(){return this.toolbar.find(".tool-items")}};$.fn.toolbar=function(o){if($.isPlainObject(o))return this.each(function(){var t=Object.create(i);t.init(o,this),$(this).data("toolbarObj",t)});if("string"==typeof o&&0!==o.indexOf("_")){var t=$(this).data("toolbarObj"),e=t[o];return e.apply(t,$.makeArray(arguments).slice(1))}},$.fn.toolbar.options={content:"#myContent",position:"top",hideOnClick:!1,zIndex:120,hover:!1}}(jQuery,window,document);